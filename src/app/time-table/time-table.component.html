<ng-container>
   <input matInput type="text" [(ngModel)]="hello" (ngModelChange)="inputChanged($event)" placeholder="Whatever!" name="hello">
</ng-container>
<br>


<div class="mat-elevation-z2">
  <table mat-table [dataSource]="dataSource" class="full-width-table" matSort aria-label="Elements">
    <!-- Date Column -->
    <ng-container matColumnDef="Date">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Date</th>
      <td mat-cell *matCellDef="let row">{{row.Date | date: 'EE MMM dd, yyyy'}}</td>
    </ng-container>

    <!-- Ore Column -->
    <ng-container matColumnDef="Ore">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Ore</th>
      <td mat-cell *matCellDef="let row"><input matInput type="number" max="20" min="1" value="{{row.Ferie ? 0 : row.Ore}}" [disabled]="row.Ferie" [(ngModel)]="row.Ore" (ngModelChange)="updateTable(dataSource._data.value)"></td>
    </ng-container>
     
    <!-- Rol Column -->
    <ng-container matColumnDef="Rol">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Rol</th>
      <td mat-cell *matCellDef="let row"><input type="number" matInput max="20" min="1" value="{{row.Ferie ? 0 : row.Rol}}" [disabled]="row.Ferie" [(ngModel)]="row.Rol" (ngModelChange)="updateTable(dataSource._data.value)"></td>
    </ng-container>

    <!-- Ferie Column -->
    <ng-container matColumnDef="Ferie">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Ferie</th>
      <td mat-cell *matCellDef="let row">
        <mat-checkbox
          (change)="$event ? selection.toggle(row) : null"
          [checked]="selection.isSelected(row)"
          [(ngModel)]="row.Ferie"
          [disabled]="row.excluded"
          (ngModelChange) = "updateTable(dataSource._data.value)">
          <!--(ngModel binds the value of row.Ferie that I can use it to disable the other columns) -->
        </mat-checkbox>
      </td>
    </ng-container>

     <!-- Ufficio Column -->   
     <ng-container matColumnDef="Ufficio">
       <th mat-header-cell *matHeaderCellDef mat-sort-header>Ufficio</th>
       <td mat-cell *matCellDef="let row">
        <mat-checkbox
          [checked]="row.Ferie ? false: row.Ufficio"
          [disabled]="row.Ferie"
          [(ngModel)]="row.Ufficio"
          (ngModelChange) = "updateTable(dataSource._data.value)">
          <!-- *ngIf="!row.excluded" -->
        </mat-checkbox>
      </td>
     </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" 
        [ngStyle]="row.Ferie && {'background-color': 'lightgrey'}"></tr>
  </table>
</div>

